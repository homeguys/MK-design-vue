import{_ as t,D as n,c as s,I as l,k as a,a as r,R as i,o}from"./chunks/framework.kol8_yO7.js";const p="/htht-design-vue/assets/image.uP8JGNLo.png",c="/htht-design-vue/assets/image-1.TNK88gNl.png",x=JSON.parse('{"title":"使用Yarn安装依赖时遇到的问题","description":"","frontmatter":{"editLink":true},"headers":[],"relativePath":"zh-CN/tech/frameWork/Yarn-Install/index.md","filePath":"zh-CN/tech/frameWork/Yarn-Install/index.md","lastUpdated":1726133719000}'),h={name:"zh-CN/tech/frameWork/Yarn-Install/index.md"},d=a("h1",{id:"使用yarn安装依赖时遇到的问题",tabindex:"-1"},[r("使用Yarn安装依赖时遇到的问题 "),a("a",{class:"header-anchor vp-link",href:"#使用yarn安装依赖时遇到的问题","aria-label":'Permalink to "使用Yarn安装依赖时遇到的问题"'},"​")],-1),m=i('<h2 id="问题一-yarn-install时提示证书过期" tabindex="-1">问题一：yarn install时提示证书过期 <a class="header-anchor vp-link" href="#问题一-yarn-install时提示证书过期" aria-label="Permalink to &quot;问题一：yarn install时提示证书过期&quot;">​</a></h2><p><img src="'+p+'" alt="alt text"></p><h3 id="问题原因" tabindex="-1">问题原因 <a class="header-anchor vp-link" href="#问题原因" aria-label="Permalink to &quot;问题原因&quot;">​</a></h3><p>证书过期应该有两种情况：</p><ol><li><p><strong>依赖包的服务器证书过期：</strong></p><p>当你运行 yarn 安装依赖时，yarn 需要连接到多个服务器。这些服务器可能托管你项目的依赖包,某些依赖包可能来自不同的注册表或镜像。如果其中某个服务器的证书过期了，yarn 会抛出这个错误。</p></li><li><p><strong>镜像服务器或代理的证书过期：</strong></p><p>如果你在 .yarnrc 或 .npmrc 中配置了镜像服务器，或者你公司使用了代理服务器，这些服务的证书也可能过期，导致无法成功连接</p></li></ol><h3 id="解决方式" tabindex="-1">解决方式 <a class="header-anchor vp-link" href="#解决方式" aria-label="Permalink to &quot;解决方式&quot;">​</a></h3><p>禁用 yarn 对 https 证书的严格校验</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>yarn config set strict-ssl false</span></span></code></pre></div><h2 id="问题二-yarn-install时提示完整性校验失败" tabindex="-1">问题二：yarn install时提示完整性校验失败 <a class="header-anchor vp-link" href="#问题二-yarn-install时提示完整性校验失败" aria-label="Permalink to &quot;问题二：yarn install时提示完整性校验失败&quot;">​</a></h2><p><img src="'+c+'" alt="alt text"></p><h3 id="问题原因-1" tabindex="-1">问题原因 <a class="header-anchor vp-link" href="#问题原因-1" aria-label="Permalink to &quot;问题原因&quot;">​</a></h3><p>这个完整性校验是yarn特有的，用npm是不会报这种错的。</p><ol><li><p><strong>镜像源不一致：</strong></p><p>yarn.lock中安装依赖的源地址和你现在安装用的源地址不一样，导致依赖的哈希值不匹配。比如lock文件中使用的是npm的源，你本次用的是淘宝的镜像源。还有一种情况就是私服镜像源安装也是同样的道理。</p></li><li><p><strong>缓存损坏：</strong></p><p>如果yarn缓存损坏的包，那正确安装就会导致完整性校验失败。</p></li></ol><h3 id="解决方式-1" tabindex="-1">解决方式 <a class="header-anchor vp-link" href="#解决方式-1" aria-label="Permalink to &quot;解决方式&quot;">​</a></h3><ol><li>先清除yarn的缓存</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>yarn cache clean</span></span></code></pre></div><ol start="2"><li>如果校验和与其包的校验和不匹配，则更新yarn.lock文件中的校验和</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>yarn install --update-checksums</span></span></code></pre></div>',18);function u(g,k,_,v,y,b){const e=n("VPAuthor");return o(),s("div",null,[d,l(e,{members:[{avatar:"https://img-nj.piesat.cn/static/Frontend/avatar/wl.png",name:"王磊"}]},null,8,["members"]),m])}const P=t(h,[["render",u]]);export{x as __pageData,P as default};
